<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madrasa_Tic</title>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="{% static 'home_user/contenu.css' %}">

</head>
<body>

<!-- header section starts  -->


<div class="container">
    <div class="main-body">

    <form method="post">{% csrf_token %}


          <div class="row gutters-sm">
              {% if declaration  %}
              {% if declaration.image %}

            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="{{ declaration.image.url }}" alt="Admin" class="rounded" width="100%">

                  </div>
                </div>
              </div>

            </div>
              {% endif %}




            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Username</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{ declaration.user.username }}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Titre</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{ declaration.titre }}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Discription</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{ declaration.description }}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Catégorie</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{ declaration.category.name }}
                    </div>
                    <div class="visible">
                     <a class="btn btn-info fas fa-pen edit" target="__blank"  id="hidden"></a>
                     </div>
                    <div class="invisible" >

                     <div class="col-sm-3 mb-0" >

                  <!--<input type="text" name="category" class="form-control put" value="{{ declaration.category.name }}" style="width: 700%;" >
                    -->
                      <label>Catégorie</label>
                    <select name="selected_categorie" class="form-control put" style="width: 700%;">
                {% if category %}


                    {% for cat in category %}
                    <option value="{{ cat.id }}" required>{{ cat.name }}</option>

                {% endfor %}
            {% endif %}
            </select>

                      <button class="btn btn-info save" name="save"  id="unhidden" value="0">Sauvgarder</button>

                </div>
                </div>
                 </div>

                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Lieu</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{ declaration.lieu }}  {{ declaration.salle }}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Date et heure</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                     {{ declaration.date }} {{ declaration.heure }}
                    </div>
                  </div>
                  <hr>


                </div>
              </div>



            </div>



               <div class="row">
                    <div class="col-sm-12">
                      <button  name="rejeter" value="0" class="btn btn-info " >Rejeter</button>
                     <button class="btn btn-info " name="delete" value="0">Supprimer</button>

                         <select name="selected_service" style="display: flex;margin-top: 8px; margin-bottom: 0px;width: 100%" >
                {% if service %}



                    {% for service in service %}
                    <option value="{{ service.id }}" required>{{ service.name }}</option>

                {% endfor %}
            {% endif %}
            </select>
                        <button class="btn btn-info " name="valider" value="0">Envoyer à service</button>
                    </div>
                  </div>



            </div>
    {% endif %}
    </form>
          </div>


        </div>
    </div>



<!-- footer section ends -->




<script>
    let edit = document.querySelector('.edit');
     let save = document.querySelector('.save');
     let put = document.querySelector('.put');


document.querySelector('#hidden').onclick = () =>{
    edit.classList.remove('visible');
    edit.classList.add('invisible');
    save.classList.remove('invisible');
    save.classList.add('visible');
    put.classList.remove('invisible');
    put.classList.add('visible');

}

document.querySelector('#unhidden').onclick = () =>{
    save.classList.remove('visible');
    save.classList.add('invisible');
    put.classList.remove('visible');
    put.classList.add('invisible');
    edit.classList.remove('invisible');
    edit.classList.add('visible');

}

</script>














<!-- custom js file link  -->
<script src="{% static 'home_user/signal.js' %}"></script>

</body>
</html>